/*! For license information please see 356.node.js.LICENSE.txt */
"use strict";exports.id=356,exports.ids=[356],exports.modules={77356:(t,e,s)=>{s.d(e,{Watcher:()=>Pi});var i=s(49411),r=s(97742),n=s(12898),a=s(70612),o=s(57147),h=s(73837),l=s(12781),c=s(71017),d=s(22037),u=s(82361),f=(s(38846),s(6005),s(93977),s(76224),{});const p=o,{Readable:_}=l,m=c,{promisify:w}=h,g=n.ZS,E=w(p.readdir),y=w(p.stat),v=w(p.lstat),R=w(p.realpath),A="READDIRP_RECURSIVE_ERROR",b=new Set(["ENOENT","EPERM","EACCES","ELOOP",A]),S="files",T="directories",C="files_directories",P="all",D=[S,T,C,P],[x,I]=process.versions.node.split(".").slice(0,2).map((t=>Number.parseInt(t,10))),N="win32"===process.platform&&(x>10||10===x&&I>=5),F=t=>{if(void 0!==t){if("function"==typeof t)return t;if("string"==typeof t){const e=g(t.trim());return t=>e(t.basename)}if(Array.isArray(t)){const e=[],s=[];for(const i of t){const t=i.trim();"!"===t.charAt(0)?s.push(g(t.slice(1))):e.push(g(t))}return s.length>0?e.length>0?t=>e.some((e=>e(t.basename)))&&!s.some((e=>e(t.basename))):t=>!s.some((e=>e(t.basename))):t=>e.some((e=>e(t.basename)))}}};class O extends _{static get defaultOptions(){return{root:".",fileFilter:t=>!0,directoryFilter:t=>!0,type:S,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(t={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:t.highWaterMark||4096});const e={...O.defaultOptions,...t},{root:s,type:i}=e;this._fileFilter=F(e.fileFilter),this._directoryFilter=F(e.directoryFilter);const r=e.lstat?v:y;this._stat=N?t=>r(t,{bigint:!0}):r,this._maxDepth=e.depth,this._wantsDir=[T,C,P].includes(i),this._wantsFile=[S,C,P].includes(i),this._wantsEverything=i===P,this._root=m.resolve(s),this._isDirent="Dirent"in p&&!e.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(t){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&t>0;){const{path:e,depth:s,files:i=[]}=this.parent||{};if(i.length>0){const r=i.splice(0,t).map((t=>this._formatEntry(t,e)));for(const e of await Promise.all(r)){if(this.destroyed)return;const i=await this._getEntryType(e);"directory"===i&&this._directoryFilter(e)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(e.fullPath,s+1)),this._wantsDir&&(this.push(e),t--)):("file"===i||this._includeAsFile(e))&&this._fileFilter(e)&&this._wantsFile&&(this.push(e),t--)}}else{const t=this.parents.pop();if(!t){this.push(null);break}if(this.parent=await t,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(t,e){let s;try{s=await E(t,this._rdOptions)}catch(t){this._onError(t)}return{files:s,depth:e,path:t}}async _formatEntry(t,e){let s;try{const i=this._isDirent?t.name:t,r=m.resolve(m.join(e,i));s={path:m.relative(this._root,r),fullPath:r,basename:i},s[this._statsProp]=this._isDirent?t:await this._stat(r)}catch(t){this._onError(t)}return s}_onError(t){var e;e=t,b.has(e.code)&&!this.destroyed?this.emit("warn",t):this.destroy(t)}async _getEntryType(t){const e=t&&t[this._statsProp];if(e){if(e.isFile())return"file";if(e.isDirectory())return"directory";if(e&&e.isSymbolicLink()){const e=t.fullPath;try{const t=await R(e),s=await v(t);if(s.isFile())return"file";if(s.isDirectory()){const s=t.length;if(e.startsWith(t)&&e.substr(s,1)===m.sep){const s=new Error(`Circular symlink detected: "${e}" points to "${t}"`);return s.code=A,this._onError(s)}return"directory"}}catch(t){this._onError(t)}}}}_includeAsFile(t){const e=t&&t[this._statsProp];return e&&this._wantsEverything&&!e.isDirectory()}}const H=(t,e={})=>{let s=e.entryType||e.type;if("both"===s&&(s=C),s&&(e.type=s),!t)throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");if("string"!=typeof t)throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(s&&!D.includes(s))throw new Error(`readdirp: Invalid type passed. Use one of ${D.join(", ")}`);return e.root=t,new O(e)};H.promise=(t,e={})=>new Promise(((s,i)=>{const r=[];H(t,e).on("data",(t=>r.push(t))).on("end",(()=>s(r))).on("error",(t=>i(t)))})),H.ReaddirpStream=O,H.default=H;var L=H,W={exports:{}},k=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var s=t.length;if(s<=1)return t;var i="";if(s>4&&"\\"===t[3]){var r=t[2];"?"!==r&&"."!==r||"\\\\"!==t.slice(0,2)||(t=t.slice(2),i="//")}var n=t.split(/[/\\]+/);return!1!==e&&""===n[n.length-1]&&n.pop(),i+n.join("/")},M=W.exports;Object.defineProperty(M,"__esModule",{value:!0});const U=n.ZS,B=k,G={returnIndex:!1},V=(t,e,s,i)=>{const r=Array.isArray(s),n=r?s[0]:s;if(!r&&"string"!=typeof n)throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(n));const a=B(n,!1);for(let t=0;t<e.length;t++)if((0,e[t])(a))return!!i&&-1;const o=r&&[a].concat(s.slice(1));for(let e=0;e<t.length;e++){const s=t[e];if(r?s(...o):s(a))return!i||e}return!!i&&-1},j=(t,e,s=G)=>{if(null==t)throw new TypeError("anymatch: specify first argument");const i="boolean"==typeof s?{returnIndex:s}:s,r=i.returnIndex||!1,n=(a=t,Array.isArray(a)?a:[a]);var a;const o=n.filter((t=>"string"==typeof t&&"!"===t.charAt(0))).map((t=>t.slice(1))).map((t=>U(t,i))),h=n.filter((t=>"string"!=typeof t||"string"==typeof t&&"!"!==t.charAt(0))).map((t=>((t,e)=>{if("function"==typeof t)return t;if("string"==typeof t){const s=U(t,e);return e=>t===e||s(e)}return t instanceof RegExp?e=>t.test(e):t=>!1})(t,i)));return null==e?(t,e=!1)=>V(h,o,t,"boolean"==typeof e&&e):V(h,o,e,r)};j.default=j,W.exports=j;var K=W.exports,Y={"{":"}","(":")","[":"]"},$=function(t){if("!"===t[0])return!0;for(var e=0,s=-2,i=-2,r=-2,n=-2,a=-2;e<t.length;){if("*"===t[e])return!0;if("?"===t[e+1]&&/[\].+)]/.test(t[e]))return!0;if(-1!==i&&"["===t[e]&&"]"!==t[e+1]&&(i<e&&(i=t.indexOf("]",e)),i>e)){if(-1===a||a>i)return!0;if(-1===(a=t.indexOf("\\",e))||a>i)return!0}if(-1!==r&&"{"===t[e]&&"}"!==t[e+1]&&(r=t.indexOf("}",e))>e&&(-1===(a=t.indexOf("\\",e))||a>r))return!0;if(-1!==n&&"("===t[e]&&"?"===t[e+1]&&/[:!=]/.test(t[e+2])&&")"!==t[e+3]&&(n=t.indexOf(")",e))>e&&(-1===(a=t.indexOf("\\",e))||a>n))return!0;if(-1!==s&&"("===t[e]&&"|"!==t[e+1]&&(s<e&&(s=t.indexOf("|",e)),-1!==s&&")"!==t[s+1]&&(n=t.indexOf(")",s))>s&&(-1===(a=t.indexOf("\\",s))||a>n)))return!0;if("\\"===t[e]){var o=t[e+1];e+=2;var h=Y[o];if(h){var l=t.indexOf(h,e);-1!==l&&(e=l+1)}if("!"===t[e])return!0}else e++}return!1},z=function(t){if("!"===t[0])return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if("\\"===t[e]){var s=t[e+1];e+=2;var i=Y[s];if(i){var r=t.indexOf(i,e);-1!==r&&(e=r+1)}if("!"===t[e])return!0}else e++}return!1},Q=function(t,e){if("string"!=typeof t||""===t)return!1;if(function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}(t))return!0;var s=$;return e&&!1===e.strict&&(s=z),s(t)},Z=Q,q=c.posix.dirname,X="win32"===d.platform(),J=/\\/g,tt=/[\{\[].*[\}\]]$/,et=/(^|[^\\])([\{\[]|\([^\)]+$)/,st=/\\([\!\*\?\|\[\]\(\)\{\}])/g,it={};!function(t){t.isInteger=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),t.find=(t,e)=>t.nodes.find((t=>t.type===e)),t.exceedsLimit=(e,s,i=1,r)=>!1!==r&&!(!t.isInteger(e)||!t.isInteger(s))&&(Number(s)-Number(e))/Number(i)>=r,t.escapeNode=(t,e=0,s)=>{let i=t.nodes[e];i&&(s&&i.type===s||"open"===i.type||"close"===i.type)&&!0!==i.escaped&&(i.value="\\"+i.value,i.escaped=!0)},t.encloseBrace=t=>"brace"===t.type&&t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0),t.isInvalidBrace=t=>!("brace"!==t.type||!0!==t.invalid&&!t.dollar&&(t.commas>>0+t.ranges>>0!=0&&!0===t.open&&!0===t.close||(t.invalid=!0,0))),t.isOpenOrClose=t=>"open"===t.type||"close"===t.type||!0===t.open||!0===t.close,t.reduce=t=>t.reduce(((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t)),[]),t.flatten=(...t)=>{const e=[],s=t=>{for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?s(r):void 0!==r&&e.push(r)}return e};return s(t),e}}(it);const rt=it;var nt=(t,e={})=>{let s=(t,i={})=>{let r=e.escapeInvalid&&rt.isInvalidBrace(i),n=!0===t.invalid&&!0===e.escapeInvalid,a="";if(t.value)return(r||n)&&rt.isOpenOrClose(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)a+=s(e);return a};return s(t)};const at=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))},ot=(t,e,s)=>{if(!1===at(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===at(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...s};"boolean"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let r=t+":"+e+"="+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(ot.cache.hasOwnProperty(r))return ot.cache[r].result;let n=Math.min(t,e),a=Math.max(t,e);if(1===Math.abs(n-a)){let s=t+"|"+e;return i.capture?`(${s})`:!1===i.wrap?s:`(?:${s})`}let o=mt(t)||mt(e),h={min:t,max:e,a:n,b:a},l=[],c=[];return o&&(h.isPadded=o,h.maxLen=String(h.max).length),n<0&&(c=lt(a<0?Math.abs(a):1,Math.abs(n),h,i),n=h.a=0),a>=0&&(l=lt(n,a,h,i)),h.negatives=c,h.positives=l,h.result=function(t,e,s){let i=ct(t,e,"-",!1)||[],r=ct(e,t,"",!1)||[],n=ct(t,e,"-?",!0)||[];return i.concat(n).concat(r).join("|")}(c,l),!0===i.capture?h.result=`(${h.result})`:!1!==i.wrap&&l.length+c.length>1&&(h.result=`(?:${h.result})`),ot.cache[r]=h,h.result};function ht(t,e,s){if(t===e)return{pattern:t,count:[],digits:0};let i=function(t,e){let s=[];for(let i=0;i<t.length;i++)s.push([t[i],e[i]]);return s}(t,e),r=i.length,n="",a=0;for(let t=0;t<r;t++){let[e,s]=i[t];e===s?n+=e:"0"!==e||"9"!==s?n+=`[${o=e}${(h=s)-o==1?"":"-"}${h}]`:a++}var o,h;return a&&(n+=!0===s.shorthand?"\\d":"[0-9]"),{pattern:n,count:[a],digits:r}}function lt(t,e,s,i){let r,n=function(t,e){let s=1,i=1,r=ft(t,s),n=new Set([e]);for(;t<=r&&r<=e;)n.add(r),s+=1,r=ft(t,s);for(r=pt(e+1,i)-1;t<r&&r<=e;)n.add(r),i+=1,r=pt(e+1,i)-1;return n=[...n],n.sort(dt),n}(t,e),a=[],o=t;for(let t=0;t<n.length;t++){let e=n[t],h=ht(String(o),String(e),i),l="";s.isPadded||!r||r.pattern!==h.pattern?(s.isPadded&&(l=wt(e,s,i)),h.string=l+h.pattern+_t(h.count),a.push(h),o=e+1,r=h):(r.count.length>1&&r.count.pop(),r.count.push(h.count[0]),r.string=r.pattern+_t(r.count),o=e+1)}return a}function ct(t,e,s,i,r){let n=[];for(let r of t){let{string:t}=r;i||ut(e,"string",t)||n.push(s+t),i&&ut(e,"string",t)&&n.push(s+t)}return n}function dt(t,e){return t>e?1:e>t?-1:0}function ut(t,e,s){return t.some((t=>t[e]===s))}function ft(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function pt(t,e){return t-t%Math.pow(10,e)}function _t(t){let[e=0,s=""]=t;return s||e>1?`{${e+(s?","+s:"")}}`:""}function mt(t){return/^-?(0+)\d/.test(t)}function wt(t,e,s){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),r=!1!==s.relaxZeros;switch(i){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${i}}`:`0{${i}}`}}ot.cache={},ot.clearCache=()=>ot.cache={};const gt=h,Et=ot,yt=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),vt=t=>"number"==typeof t||"string"==typeof t&&""!==t,Rt=t=>Number.isInteger(+t),At=t=>{let e=`${t}`,s=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++s];);return s>0},bt=(t,e,s)=>{if(e>0){let s="-"===t[0]?"-":"";s&&(t=t.slice(1)),t=s+t.padStart(s?e-1:e,"0")}return!1===s?String(t):t},St=(t,e)=>{let s="-"===t[0]?"-":"";for(s&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return s?"-"+t:t},Tt=(t,e,s,i)=>{if(s)return Et(t,e,{wrap:!1,...i});let r=String.fromCharCode(t);return t===e?r:`[${r}-${String.fromCharCode(e)}]`},Ct=(t,e,s)=>{if(Array.isArray(t)){let e=!0===s.wrap,i=s.capture?"":"?:";return e?`(${i}${t.join("|")})`:t.join("|")}return Et(t,e,s)},Pt=(...t)=>new RangeError("Invalid range arguments: "+gt.inspect(...t)),Dt=(t,e,s)=>{if(!0===s.strictRanges)throw Pt([t,e]);return[]},xt=(t,e,s,i={})=>{if(null==e&&vt(t))return[t];if(!vt(t)||!vt(e))return Dt(t,e,i);if("function"==typeof s)return xt(t,e,1,{transform:s});if(yt(s))return xt(t,e,0,s);let r={...i};return!0===r.capture&&(r.wrap=!0),s=s||r.step||1,Rt(s)?Rt(t)&&Rt(e)?((t,e,s=1,i={})=>{let r=Number(t),n=Number(e);if(!Number.isInteger(r)||!Number.isInteger(n)){if(!0===i.strictRanges)throw Pt([t,e]);return[]}0===r&&(r=0),0===n&&(n=0);let a=r>n,o=String(t),h=String(e),l=String(s);s=Math.max(Math.abs(s),1);let c=At(o)||At(h)||At(l),d=c?Math.max(o.length,h.length,l.length):0,u=!1===c&&!1===((t,e,s)=>"string"==typeof t||"string"==typeof e||!0===s.stringify)(t,e,i),f=i.transform||(t=>e=>!0===t?Number(e):String(e))(u);if(i.toRegex&&1===s)return Tt(St(t,d),St(e,d),!0,i);let p={negatives:[],positives:[]},_=[],m=0;for(;a?r>=n:r<=n;)!0===i.toRegex&&s>1?p[(w=r)<0?"negatives":"positives"].push(Math.abs(w)):_.push(bt(f(r,m),d,u)),r=a?r-s:r+s,m++;var w;return!0===i.toRegex?s>1?((t,e)=>{t.negatives.sort(((t,e)=>t<e?-1:t>e?1:0)),t.positives.sort(((t,e)=>t<e?-1:t>e?1:0));let s,i=e.capture?"":"?:",r="",n="";return t.positives.length&&(r=t.positives.join("|")),t.negatives.length&&(n=`-(${i}${t.negatives.join("|")})`),s=r&&n?`${r}|${n}`:r||n,e.wrap?`(${i}${s})`:s})(p,i):Ct(_,null,{wrap:!1,...i}):_})(t,e,s,r):((t,e,s=1,i={})=>{if(!Rt(t)&&t.length>1||!Rt(e)&&e.length>1)return Dt(t,e,i);let r=i.transform||(t=>String.fromCharCode(t)),n=`${t}`.charCodeAt(0),a=`${e}`.charCodeAt(0),o=n>a,h=Math.min(n,a),l=Math.max(n,a);if(i.toRegex&&1===s)return Tt(h,l,!1,i);let c=[],d=0;for(;o?n>=a:n<=a;)c.push(r(n,d)),n=o?n-s:n+s,d++;return!0===i.toRegex?Ct(c,null,{wrap:!1,options:i}):c})(t,e,Math.max(Math.abs(s),1),r):null==s||yt(s)?xt(t,e,1,s):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(s,r)},It=xt,Nt=it;const Ft=xt,Ot=nt,Ht=it,Lt=(t="",e="",s=!1)=>{let i=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return s?Ht.flatten(e).map((t=>`{${t}}`)):e;for(let r of t)if(Array.isArray(r))for(let t of r)i.push(Lt(t,e,s));else for(let t of e)!0===s&&"string"==typeof t&&(t=`{${t}}`),i.push(Array.isArray(t)?Lt(r,t,s):r+t);return Ht.flatten(i)};const Wt=nt,{MAX_LENGTH:kt,CHAR_BACKSLASH:Mt,CHAR_BACKTICK:Ut,CHAR_COMMA:Bt,CHAR_DOT:Gt,CHAR_LEFT_PARENTHESES:Vt,CHAR_RIGHT_PARENTHESES:jt,CHAR_LEFT_CURLY_BRACE:Kt,CHAR_RIGHT_CURLY_BRACE:Yt,CHAR_LEFT_SQUARE_BRACKET:$t,CHAR_RIGHT_SQUARE_BRACKET:zt,CHAR_DOUBLE_QUOTE:Qt,CHAR_SINGLE_QUOTE:Zt,CHAR_NO_BREAK_SPACE:qt,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Xt}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const Jt=nt,te=(t,e={})=>{let s=(t,i={})=>{let r=Nt.isInvalidBrace(i),n=!0===t.invalid&&!0===e.escapeInvalid,a=!0===r||!0===n,o=!0===e.escapeInvalid?"\\":"",h="";if(!0===t.isOpen)return o+t.value;if(!0===t.isClose)return o+t.value;if("open"===t.type)return a?o+t.value:"(";if("close"===t.type)return a?o+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":a?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let s=Nt.reduce(t.nodes),i=It(...s,{...e,wrap:!1,toRegex:!0});if(0!==i.length)return s.length>1&&i.length>1?`(${i})`:i}if(t.nodes)for(let e of t.nodes)h+=s(e,t);return h};return s(t)},ee=(t,e={})=>{let s=void 0===e.rangeLimit?1e3:e.rangeLimit,i=(t,r={})=>{t.queue=[];let n=r,a=r.queue;for(;"brace"!==n.type&&"root"!==n.type&&n.parent;)n=n.parent,a=n.queue;if(t.invalid||t.dollar)return void a.push(Lt(a.pop(),Ot(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void a.push(Lt(a.pop(),["{}"]));if(t.nodes&&t.ranges>0){let i=Ht.reduce(t.nodes);if(Ht.exceedsLimit(...i,e.step,s))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let r=Ft(...i,e);return 0===r.length&&(r=Ot(t,e)),a.push(Lt(a.pop(),r)),void(t.nodes=[])}let o=Ht.encloseBrace(t),h=t.queue,l=t;for(;"brace"!==l.type&&"root"!==l.type&&l.parent;)l=l.parent,h=l.queue;for(let e=0;e<t.nodes.length;e++){let s=t.nodes[e];"comma"!==s.type||"brace"!==t.type?"close"!==s.type?s.value&&"open"!==s.type?h.push(Lt(h.pop(),s.value)):s.nodes&&i(s,t):a.push(Lt(a.pop(),h,o)):(1===e&&h.push(""),h.push(""))}return h};return Ht.flatten(i(t))},se=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");let s=e||{},i="number"==typeof s.maxLength?Math.min(kt,s.maxLength):kt;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let r,n={type:"root",input:t,nodes:[]},a=[n],o=n,h=n,l=0,c=t.length,d=0,u=0;const f=()=>t[d++],p=t=>{if("text"===t.type&&"dot"===h.type&&(h.type="text"),!h||"text"!==h.type||"text"!==t.type)return o.nodes.push(t),t.parent=o,t.prev=h,h=t,t;h.value+=t.value};for(p({type:"bos"});d<c;)if(o=a[a.length-1],r=f(),r!==Xt&&r!==qt)if(r!==Mt)if(r!==zt)if(r!==$t)if(r!==Vt)if(r!==jt)if(r!==Qt&&r!==Zt&&r!==Ut)if(r!==Kt)if(r!==Yt)if(r===Bt&&u>0){if(o.ranges>0){o.ranges=0;let t=o.nodes.shift();o.nodes=[t,{type:"text",value:Wt(o)}]}p({type:"comma",value:r}),o.commas++}else if(r===Gt&&u>0&&0===o.commas){let t=o.nodes;if(0===u||0===t.length){p({type:"text",value:r});continue}if("dot"===h.type){if(o.range=[],h.value+=r,h.type="range",3!==o.nodes.length&&5!==o.nodes.length){o.invalid=!0,o.ranges=0,h.type="text";continue}o.ranges++,o.args=[];continue}if("range"===h.type){t.pop();let e=t[t.length-1];e.value+=h.value+r,h=e,o.ranges--;continue}p({type:"dot",value:r})}else p({type:"text",value:r});else{if("brace"!==o.type){p({type:"text",value:r});continue}let t="close";o=a.pop(),o.close=!0,p({type:t,value:r}),u--,o=a[a.length-1]}else{u++;let t=h.value&&"$"===h.value.slice(-1)||!0===o.dollar;o=p({type:"brace",open:!0,close:!1,dollar:t,depth:u,commas:0,ranges:0,nodes:[]}),a.push(o),p({type:"open",value:r})}else{let t,s=r;for(!0!==e.keepQuotes&&(r="");d<c&&(t=f());)if(t!==Mt){if(t===s){!0===e.keepQuotes&&(r+=t);break}r+=t}else r+=t+f();p({type:"text",value:r})}else{if("paren"!==o.type){p({type:"text",value:r});continue}o=a.pop(),p({type:"text",value:r}),o=a[a.length-1]}else o=p({type:"paren",nodes:[]}),a.push(o),p({type:"text",value:r});else{let t;for(l++;d<c&&(t=f());)if(r+=t,t!==$t)if(t!==Mt){if(t===zt&&(l--,0===l))break}else r+=f();else l++;p({type:"text",value:r})}else p({type:"text",value:"\\"+r});else p({type:"text",value:(e.keepEscaping?r:"")+f()});do{if(o=a.pop(),"root"!==o.type){o.nodes.forEach((t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)}));let t=a[a.length-1],e=t.nodes.indexOf(o);t.nodes.splice(e,1,...o.nodes)}}while(a.length>0);return p({type:"eos"}),n},ie=(t,e={})=>{let s=[];if(Array.isArray(t))for(let i of t){let t=ie.create(i,e);Array.isArray(t)?s.push(...t):s.push(t)}else s=[].concat(ie.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(s=[...new Set(s)]),s};ie.parse=(t,e={})=>se(t,e),ie.stringify=(t,e={})=>Jt("string"==typeof t?ie.parse(t,e):t,e),ie.compile=(t,e={})=>("string"==typeof t&&(t=ie.parse(t,e)),te(t,e)),ie.expand=(t,e={})=>{"string"==typeof t&&(t=ie.parse(t,e));let s=ee(t,e);return!0===e.noempty&&(s=s.filter(Boolean)),!0===e.nodupes&&(s=[...new Set(s)]),s},ie.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?ie.compile(t,e):ie.expand(t,e);var re=ie;const ne=c,ae=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]);var oe={};!function(t){const{sep:e}=c,{platform:s}=process,i=d;t.EV_ALL="all",t.EV_READY="ready",t.EV_ADD="add",t.EV_CHANGE="change",t.EV_ADD_DIR="addDir",t.EV_UNLINK="unlink",t.EV_UNLINK_DIR="unlinkDir",t.EV_RAW="raw",t.EV_ERROR="error",t.STR_DATA="data",t.STR_END="end",t.STR_CLOSE="close",t.FSEVENT_CREATED="created",t.FSEVENT_MODIFIED="modified",t.FSEVENT_DELETED="deleted",t.FSEVENT_MOVED="moved",t.FSEVENT_CLONED="cloned",t.FSEVENT_UNKNOWN="unknown",t.FSEVENT_TYPE_FILE="file",t.FSEVENT_TYPE_DIRECTORY="directory",t.FSEVENT_TYPE_SYMLINK="symlink",t.KEY_LISTENERS="listeners",t.KEY_ERR="errHandlers",t.KEY_RAW="rawEmitters",t.HANDLER_KEYS=[t.KEY_LISTENERS,t.KEY_ERR,t.KEY_RAW],t.DOT_SLASH=`.${e}`,t.BACK_SLASH_RE=/\\/g,t.DOUBLE_SLASH_RE=/\/\//,t.SLASH_OR_BACK_SLASH_RE=/[/\\]/,t.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,t.REPLACER_RE=/^\.[/\\]/,t.SLASH="/",t.SLASH_SLASH="//",t.BRACE_START="{",t.BANG="!",t.ONE_DOT=".",t.TWO_DOTS="..",t.STAR="*",t.GLOBSTAR="**",t.ROOT_GLOBSTAR="/**/*",t.SLASH_GLOBSTAR="/**",t.DIR_SUFFIX="Dir",t.ANYMATCH_OPTS={dot:!0},t.STRING_TYPE="string",t.FUNCTION_TYPE="function",t.EMPTY_STR="",t.EMPTY_FN=()=>{},t.IDENTITY_FN=t=>t,t.isWindows="win32"===s,t.isMacos="darwin"===s,t.isLinux="linux"===s,t.isIBMi="OS400"===i.type()}(oe);const he=o,le=c,{promisify:ce}=h,de=t=>ae.has(ne.extname(t).slice(1).toLowerCase()),{isWindows:ue,isLinux:fe,EMPTY_FN:pe,EMPTY_STR:_e,KEY_LISTENERS:me,KEY_ERR:we,KEY_RAW:ge,HANDLER_KEYS:Ee,EV_CHANGE:ye,EV_ADD:ve,EV_ADD_DIR:Re,EV_ERROR:Ae,STR_DATA:be,STR_END:Se,BRACE_START:Te,STAR:Ce}=oe,Pe=ce(he.open),De=ce(he.stat),xe=ce(he.lstat),Ie=ce(he.close),Ne=ce(he.realpath),Fe={lstat:xe,stat:De},Oe=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},He=(t,e,s)=>{let i=t[e];i instanceof Set||(t[e]=i=new Set([i])),i.add(s)},Le=(t,e,s)=>{const i=t[e];i instanceof Set?i.delete(s):i===s&&delete t[e]},We=t=>t instanceof Set?0===t.size:!t,ke=new Map;function Me(t,e,s,i,r){const n=(e,i)=>{s(t),r(e,i,{watchedPath:t}),i&&t!==i&&Ue(le.resolve(t,i),me,le.join(t,i))};try{return he.watch(t,e,n)}catch(t){i(t)}}const Ue=(t,e,s,i,r)=>{const n=ke.get(t);n&&Oe(n[e],(t=>{t(s,i,r)}))},Be=new Map;var Ge={exports:{}};const Ve=(0,n.RL)(n.Yw),je=o,Ke=c,{promisify:Ye}=h;let $e;try{$e=Ve.getFsEvents()}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t)}if($e){const t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){const e=Number.parseInt(t[1],10),s=Number.parseInt(t[2],10);8===e&&s<16&&($e=void 0)}}const{EV_ADD:ze,EV_CHANGE:Qe,EV_ADD_DIR:Ze,EV_UNLINK:qe,EV_ERROR:Xe,STR_DATA:Je,STR_END:ts,FSEVENT_CREATED:es,FSEVENT_MODIFIED:ss,FSEVENT_DELETED:is,FSEVENT_MOVED:rs,FSEVENT_UNKNOWN:ns,FSEVENT_TYPE_FILE:as,FSEVENT_TYPE_DIRECTORY:os,FSEVENT_TYPE_SYMLINK:hs,ROOT_GLOBSTAR:ls,DIR_SUFFIX:cs,DOT_SLASH:ds,FUNCTION_TYPE:us,EMPTY_FN:fs,IDENTITY_FN:ps}=oe,_s=Ye(je.stat),ms=Ye(je.lstat),ws=Ye(je.realpath),gs={stat:_s,lstat:ms},Es=new Map,ys=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),vs=(t,e)=>({stop:$e.watch(t,e)}),Rs=(t,e)=>{let s=0;for(;!t.indexOf(e)&&(t=Ke.dirname(t))!==e;)s++;return s},As=(t,e)=>t.type===os&&e.isDirectory()||t.type===hs&&e.isSymbolicLink()||t.type===as&&e.isFile();Ge.exports=class{constructor(t){this.fsw=t}checkIgnored(t,e){const s=this.fsw._ignoredPaths;if(this.fsw._isIgnored(t,e))return s.add(t),e&&e.isDirectory()&&s.add(t+ls),!0;s.delete(t),s.delete(t+ls)}addOrChange(t,e,s,i,r,n,a,o){const h=r.has(n)?Qe:ze;this.handleEvent(h,t,e,s,i,r,n,a,o)}async checkExists(t,e,s,i,r,n,a,o){try{const h=await _s(t);if(this.fsw.closed)return;As(a,h)?this.addOrChange(t,e,s,i,r,n,a,o):this.handleEvent(qe,t,e,s,i,r,n,a,o)}catch(h){"EACCES"===h.code?this.addOrChange(t,e,s,i,r,n,a,o):this.handleEvent(qe,t,e,s,i,r,n,a,o)}}handleEvent(t,e,s,i,r,n,a,o,h){if(!this.fsw.closed&&!this.checkIgnored(e))if(t===qe){const t=o.type===os;(t||n.has(a))&&this.fsw._remove(r,a,t)}else{if(t===ze){if(o.type===os&&this.fsw._getWatchedDir(e),o.type===hs&&h.followSymlinks){const t=void 0===h.depth?void 0:Rs(s,i)+1;return this._addToFsEvents(e,!1,!0,t)}this.fsw._getWatchedDir(r).add(a)}const n=o.type===os?t+cs:t;this.fsw._emit(n,e),n===Ze&&this._addToFsEvents(e,!1,!0)}}_watchWithFsEvents(t,e,s,i){if(this.fsw.closed||this.fsw._isIgnored(t))return;const r=this.fsw.options,n=function(t,e,s,i){let r=Ke.extname(e)?Ke.dirname(e):e;const n=Ke.dirname(r);let a=Es.get(r);(t=>{let e=0;for(const s of Es.keys())if(0===s.indexOf(t)&&(e++,e>=10))return!0;return!1})(n)&&(r=n);const o=Ke.resolve(t),h=o!==e,l=(t,i,r)=>{h&&(t=t.replace(e,o)),t!==o&&t.indexOf(o+Ke.sep)||s(t,i,r)};let c=!1;for(const t of Es.keys())if(0===e.indexOf(Ke.resolve(t)+Ke.sep)){r=t,a=Es.get(r),c=!0;break}return a||c?a.listeners.add(l):(a={listeners:new Set([l]),rawEmitter:i,watcher:vs(r,((t,e)=>{if(!a.listeners.size)return;const s=$e.getInfo(t,e);a.listeners.forEach((i=>{i(t,e,s)})),a.rawEmitter(s.event,t,s)}))},Es.set(r,a)),()=>{const t=a.listeners;if(t.delete(l),!t.size&&(Es.delete(r),a.watcher))return a.watcher.stop().then((()=>{a.rawEmitter=a.watcher=void 0,Object.freeze(a)}))}}(t,e,(async(n,a,o)=>{if(this.fsw.closed)return;if(void 0!==r.depth&&Rs(n,e)>r.depth)return;const h=s(Ke.join(t,Ke.relative(t,n)));if(i&&!i(h))return;const l=Ke.dirname(h),c=Ke.basename(h),d=this.fsw._getWatchedDir(o.type===os?h:l);if(ys.has(a)||o.event===ns)if(typeof r.ignored===us){let t;try{t=await _s(h)}catch(t){}if(this.fsw.closed)return;if(this.checkIgnored(h,t))return;As(o,t)?this.addOrChange(h,n,e,l,d,c,o,r):this.handleEvent(qe,h,n,e,l,d,c,o,r)}else this.checkExists(h,n,e,l,d,c,o,r);else switch(o.event){case es:case ss:return this.addOrChange(h,n,e,l,d,c,o,r);case is:case rs:return this.checkExists(h,n,e,l,d,c,o,r)}}),this.fsw._emitRaw);return this.fsw._emitReady(),n}async _handleFsEventsSymlink(t,e,s,i){if(!this.fsw.closed&&!this.fsw._symlinkPaths.has(e)){this.fsw._symlinkPaths.set(e,!0),this.fsw._incrReadyCount();try{const e=await ws(t);if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(e||t,(i=>{let r=t;return e&&e!==ds?r=i.replace(e,t):i!==ds&&(r=Ke.join(t,i)),s(r)}),!1,i)}catch(t){if(this.fsw._handleError(t))return this.fsw._emitReady()}}}emitAdd(t,e,s,i,r){const n=s(t),a=e.isDirectory(),o=this.fsw._getWatchedDir(Ke.dirname(n)),h=Ke.basename(n);a&&this.fsw._getWatchedDir(n),o.has(h)||(o.add(h),i.ignoreInitial&&!0!==r||this.fsw._emit(a?Ze:ze,n,e))}initWatch(t,e,s,i){if(this.fsw.closed)return;const r=this._watchWithFsEvents(s.watchPath,Ke.resolve(t||s.watchPath),i,s.globFilter);this.fsw._addPathCloser(e,r)}async _addToFsEvents(t,e,s,i){if(this.fsw.closed)return;const r=this.fsw.options,n=typeof e===us?e:ps,a=this.fsw._getWatchHelpers(t);try{const e=await gs[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,e))throw null;if(e.isDirectory()){if(a.globFilter||this.emitAdd(n(t),e,n,r,s),i&&i>r.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:t=>a.filterPath(t),directoryFilter:t=>a.filterDir(t),...(o=r.depth-(i||0),isNaN(o)?{}:{depth:o})}).on(Je,(t=>{if(this.fsw.closed)return;if(t.stats.isDirectory()&&!a.filterPath(t))return;const e=Ke.join(a.watchPath,t.path),{fullPath:i}=t;if(a.followSymlinks&&t.stats.isSymbolicLink()){const t=void 0===r.depth?void 0:Rs(e,Ke.resolve(a.watchPath))+1;this._handleFsEventsSymlink(e,i,n,t)}else this.emitAdd(e,t.stats,n,r,s)})).on(Xe,fs).on(ts,(()=>{this.fsw._emitReady()}))}else this.emitAdd(a.watchPath,e,n,r,s),this.fsw._emitReady()}catch(t){t&&!this.fsw._handleError(t)||(this.fsw._emitReady(),this.fsw._emitReady())}var o;if(r.persistent&&!0!==s)if(typeof e===us)this.initWatch(void 0,t,a,n);else{let e;try{e=await ws(a.watchPath)}catch(t){}this.initWatch(e,t,a,n)}}},Ge.exports.canUse=()=>$e&&Es.size<128;var bs=Ge.exports;const{EventEmitter:Ss}=u,Ts=o,Cs=c,{promisify:Ps}=h,Ds=L,xs=K.default,Is=Q,Ns=re,Fs=k,Os=class{constructor(t){this.fsw=t,this._boundHandleError=e=>t._handleError(e)}_watchWithNodeFs(t,e){const s=this.fsw.options,i=le.dirname(t),r=le.basename(t);this.fsw._getWatchedDir(i).add(r);const n=le.resolve(t),a={persistent:s.persistent};let o;return e||(e=pe),s.usePolling?(a.interval=s.enableBinaryInterval&&de(r)?s.binaryInterval:s.interval,o=((t,e,s,i)=>{const{listener:r,rawEmitter:n}=i;let a=Be.get(e);const o=a&&a.options;return o&&(o.persistent<s.persistent||o.interval>s.interval)&&(he.unwatchFile(e),a=void 0),a?(He(a,me,r),He(a,ge,n)):(a={listeners:r,rawEmitters:n,options:s,watcher:he.watchFile(e,s,((s,i)=>{Oe(a.rawEmitters,(t=>{t(ye,e,{curr:s,prev:i})}));const r=s.mtimeMs;(s.size!==i.size||r>i.mtimeMs||0===r)&&Oe(a.listeners,(e=>e(t,s)))}))},Be.set(e,a)),()=>{Le(a,me,r),Le(a,ge,n),We(a.listeners)&&(Be.delete(e),he.unwatchFile(e),a.options=a.watcher=void 0,Object.freeze(a))}})(t,n,a,{listener:e,rawEmitter:this.fsw._emitRaw})):o=((t,e,s,i)=>{const{listener:r,errHandler:n,rawEmitter:a}=i;let o,h=ke.get(e);if(!s.persistent)return o=Me(t,s,r,n,a),o.close.bind(o);if(h)He(h,me,r),He(h,we,n),He(h,ge,a);else{if(o=Me(t,s,Ue.bind(null,e,me),n,Ue.bind(null,e,ge)),!o)return;o.on(Ae,(async s=>{const i=Ue.bind(null,e,we);if(h.watcherUnusable=!0,ue&&"EPERM"===s.code)try{const e=await Pe(t,"r");await Ie(e),i(s)}catch(t){}else i(s)})),h={listeners:r,errHandlers:n,rawEmitters:a,watcher:o},ke.set(e,h)}return()=>{Le(h,me,r),Le(h,we,n),Le(h,ge,a),We(h.listeners)&&(h.watcher.close(),ke.delete(e),Ee.forEach((t=>e=>{const s=t[e];s instanceof Set?s.clear():delete t[e]})(h)),h.watcher=void 0,Object.freeze(h))}})(t,n,a,{listener:e,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),o}_handleFile(t,e,s){if(this.fsw.closed)return;const i=le.dirname(t),r=le.basename(t),n=this.fsw._getWatchedDir(i);let a=e;if(n.has(r))return;const o=async(e,s)=>{if(this.fsw._throttle("watch",t,5))if(s&&0!==s.mtimeMs){if(n.has(r)){const e=s.atimeMs,i=s.mtimeMs;(!e||e<=i||i!==a.mtimeMs)&&this.fsw._emit(ye,t,s),a=s}}else try{const s=await De(t);if(this.fsw.closed)return;const i=s.atimeMs,r=s.mtimeMs;(!i||i<=r||r!==a.mtimeMs)&&this.fsw._emit(ye,t,s),fe&&a.ino!==s.ino?(this.fsw._closeFile(e),a=s,this.fsw._addPathCloser(e,this._watchWithNodeFs(t,o))):a=s}catch(t){this.fsw._remove(i,r)}},h=this._watchWithNodeFs(t,o);if((!s||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(ve,t,0))return;this.fsw._emit(ve,t,e)}return h}async _handleSymlink(t,e,s,i){if(this.fsw.closed)return;const r=t.fullPath,n=this.fsw._getWatchedDir(e);if(!this.fsw.options.followSymlinks){let e;this.fsw._incrReadyCount();try{e=await Ne(s)}catch(t){return this.fsw._emitReady(),!0}if(this.fsw.closed)return;return n.has(i)?this.fsw._symlinkPaths.get(r)!==e&&(this.fsw._symlinkPaths.set(r,e),this.fsw._emit(ye,s,t.stats)):(n.add(i),this.fsw._symlinkPaths.set(r,e),this.fsw._emit(ve,s,t.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(r))return!0;this.fsw._symlinkPaths.set(r,!0)}_handleRead(t,e,s,i,r,n,a){if(t=le.join(t,_e),!s.hasGlob&&!(a=this.fsw._throttle("readdir",t,1e3)))return;const o=this.fsw._getWatchedDir(s.path),h=new Set;let l=this.fsw._readdirp(t,{fileFilter:t=>s.filterPath(t),directoryFilter:t=>s.filterDir(t),depth:0}).on(be,(async a=>{if(this.fsw.closed)return void(l=void 0);const c=a.path;let d=le.join(t,c);h.add(c),a.stats.isSymbolicLink()&&await this._handleSymlink(a,t,d,c)||(this.fsw.closed?l=void 0:c!==i&&(i||o.has(c))||(this.fsw._incrReadyCount(),d=le.join(r,le.relative(r,d)),this._addToNodeFs(d,e,s,n+1)))})).on(Ae,this._boundHandleError);return new Promise((e=>l.once(Se,(()=>{if(this.fsw.closed)return void(l=void 0);const c=!!a&&a.clear();e(),o.getChildren().filter((e=>e!==t&&!h.has(e)&&(!s.hasGlob||s.filterPath({fullPath:le.resolve(t,e)})))).forEach((e=>{this.fsw._remove(t,e)})),l=void 0,c&&this._handleRead(t,!1,s,i,r,n,a)}))))}async _handleDir(t,e,s,i,r,n,a){const o=this.fsw._getWatchedDir(le.dirname(t)),h=o.has(le.basename(t));let l,c;s&&this.fsw.options.ignoreInitial||r||h||n.hasGlob&&!n.globFilter(t)||this.fsw._emit(Re,t,e),o.add(le.basename(t)),this.fsw._getWatchedDir(t);const d=this.fsw.options.depth;if((null==d||i<=d)&&!this.fsw._symlinkPaths.has(a)){if(!r&&(await this._handleRead(t,s,n,r,t,i,l),this.fsw.closed))return;c=this._watchWithNodeFs(t,((e,s)=>{s&&0===s.mtimeMs||this._handleRead(e,!1,n,r,t,i,l)}))}return c}async _addToNodeFs(t,e,s,i,r){const n=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return n(),!1;const a=this.fsw._getWatchHelpers(t,i);!a.hasGlob&&s&&(a.hasGlob=s.hasGlob,a.globFilter=s.globFilter,a.filterPath=t=>s.filterPath(t),a.filterDir=t=>s.filterDir(t));try{const s=await Fe[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,s))return n(),!1;const o=this.fsw.options.followSymlinks&&!t.includes(Ce)&&!t.includes(Te);let h;if(s.isDirectory()){const n=le.resolve(t),l=o?await Ne(t):t;if(this.fsw.closed)return;if(h=await this._handleDir(a.watchPath,s,e,i,r,a,l),this.fsw.closed)return;n!==l&&void 0!==l&&this.fsw._symlinkPaths.set(n,l)}else if(s.isSymbolicLink()){const r=o?await Ne(t):t;if(this.fsw.closed)return;const n=le.dirname(a.watchPath);if(this.fsw._getWatchedDir(n).add(a.watchPath),this.fsw._emit(ve,a.watchPath,s),h=await this._handleDir(n,s,e,i,t,a,r),this.fsw.closed)return;void 0!==r&&this.fsw._symlinkPaths.set(le.resolve(t),r)}else h=this._handleFile(a.watchPath,s,e);return n(),this.fsw._addPathCloser(t,h),!1}catch(e){if(this.fsw._handleError(e))return n(),t}}},Hs=bs,{EV_ALL:Ls,EV_READY:Ws,EV_ADD:ks,EV_CHANGE:Ms,EV_UNLINK:Us,EV_ADD_DIR:Bs,EV_UNLINK_DIR:Gs,EV_RAW:Vs,EV_ERROR:js,STR_CLOSE:Ks,STR_END:Ys,BACK_SLASH_RE:$s,DOUBLE_SLASH_RE:zs,SLASH_OR_BACK_SLASH_RE:Qs,DOT_RE:Zs,REPLACER_RE:qs,SLASH:Xs,SLASH_SLASH:Js,BRACE_START:ti,BANG:ei,ONE_DOT:si,TWO_DOTS:ii,GLOBSTAR:ri,SLASH_GLOBSTAR:ni,ANYMATCH_OPTS:ai,STRING_TYPE:oi,FUNCTION_TYPE:hi,EMPTY_STR:li,EMPTY_FN:ci,isWindows:di,isMacos:ui,isIBMi:fi}=oe,pi=Ps(Ts.stat),_i=Ps(Ts.readdir),mi=(t=[])=>Array.isArray(t)?t:[t],wi=(t,e=[])=>(t.forEach((t=>{Array.isArray(t)?wi(t,e):e.push(t)})),e),gi=t=>{const e=wi(mi(t));if(!e.every((t=>typeof t===oi)))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(yi)},Ei=t=>{let e=t.replace($s,Xs),s=!1;for(e.startsWith(Js)&&(s=!0);e.match(zs);)e=e.replace(zs,Xs);return s&&(e=Xs+e),e},yi=t=>Ei(Cs.normalize(Ei(t))),vi=(t=li)=>e=>typeof e!==oi?e:yi(Cs.isAbsolute(e)?e:Cs.join(t,e)),Ri=(t,e)=>void 0===t[e];class Ai{constructor(t,e){this.path=t,this._removeWatcher=e,this.items=new Set}add(t){const{items:e}=this;e&&t!==si&&t!==ii&&e.add(t)}async remove(t){const{items:e}=this;if(!e)return;if(e.delete(t),e.size>0)return;const s=this.path;try{await _i(s)}catch(t){this._removeWatcher&&this._removeWatcher(Cs.dirname(s),Cs.basename(s))}}has(t){const{items:e}=this;if(e)return e.has(t)}getChildren(){const{items:t}=this;if(t)return[...t.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}class bi{constructor(t,e,s,i){this.fsw=i,this.path=t=t.replace(qs,li),this.watchPath=e,this.fullWatchPath=Cs.resolve(e),this.hasGlob=e!==t,t===li&&(this.hasGlob=!1),this.globSymlink=!(!this.hasGlob||!s)&&void 0,this.globFilter=!!this.hasGlob&&xs(t,void 0,ai),this.dirParts=this.getDirParts(t),this.dirParts.forEach((t=>{t.length>1&&t.pop()})),this.followSymlinks=s,this.statMethod=s?"stat":"lstat"}checkGlobSymlink(t){return void 0===this.globSymlink&&(this.globSymlink=t.fullParentDir!==this.fullWatchPath&&{realPath:t.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?t.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):t.fullPath}entryPath(t){return Cs.join(this.watchPath,Cs.relative(this.watchPath,this.checkGlobSymlink(t)))}filterPath(t){const{stats:e}=t;if(e&&e.isSymbolicLink())return this.filterDir(t);const s=this.entryPath(t);return(!this.hasGlob||typeof this.globFilter!==hi||this.globFilter(s))&&this.fsw._isntIgnored(s,e)&&this.fsw._hasReadPermissions(e)}getDirParts(t){if(!this.hasGlob)return[];const e=[];return(t.includes(ti)?Ns.expand(t):[t]).forEach((t=>{e.push(Cs.relative(this.watchPath,t).split(Qs))})),e}filterDir(t){if(this.hasGlob){const e=this.getDirParts(this.checkGlobSymlink(t));let s=!1;this.unmatchedGlob=!this.dirParts.some((t=>t.every(((t,i)=>(t===ri&&(s=!0),s||!e[0][i]||xs(t,e[0][i],ai))))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class Si extends Ss{constructor(t){super();const e={};t&&Object.assign(e,t),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,Ri(e,"persistent")&&(e.persistent=!0),Ri(e,"ignoreInitial")&&(e.ignoreInitial=!1),Ri(e,"ignorePermissionErrors")&&(e.ignorePermissionErrors=!1),Ri(e,"interval")&&(e.interval=100),Ri(e,"binaryInterval")&&(e.binaryInterval=300),Ri(e,"disableGlobbing")&&(e.disableGlobbing=!1),e.enableBinaryInterval=e.binaryInterval!==e.interval,Ri(e,"useFsEvents")&&(e.useFsEvents=!e.usePolling),Hs.canUse()||(e.useFsEvents=!1),Ri(e,"usePolling")&&!e.useFsEvents&&(e.usePolling=ui),fi&&(e.usePolling=!0);const s=process.env.CHOKIDAR_USEPOLLING;if(void 0!==s){const t=s.toLowerCase();e.usePolling="false"!==t&&"0"!==t&&("true"===t||"1"===t||!!t)}const i=process.env.CHOKIDAR_INTERVAL;i&&(e.interval=Number.parseInt(i,10)),Ri(e,"atomic")&&(e.atomic=!e.usePolling&&!e.useFsEvents),e.atomic&&(this._pendingUnlinks=new Map),Ri(e,"followSymlinks")&&(e.followSymlinks=!0),Ri(e,"awaitWriteFinish")&&(e.awaitWriteFinish=!1),!0===e.awaitWriteFinish&&(e.awaitWriteFinish={});const r=e.awaitWriteFinish;r&&(r.stabilityThreshold||(r.stabilityThreshold=2e3),r.pollInterval||(r.pollInterval=100),this._pendingWrites=new Map),e.ignored&&(e.ignored=mi(e.ignored));let n=0;this._emitReady=()=>{n++,n>=this._readyCount&&(this._emitReady=ci,this._readyEmitted=!0,process.nextTick((()=>this.emit(Ws))))},this._emitRaw=(...t)=>this.emit(Vs,...t),this._readyEmitted=!1,this.options=e,e.useFsEvents?this._fsEventsHandler=new Hs(this):this._nodeFsHandler=new Os(this),Object.freeze(e)}add(t,e,s){const{cwd:i,disableGlobbing:r}=this.options;this.closed=!1;let n=gi(t);return i&&(n=n.map((t=>{const e=((t,e)=>Cs.isAbsolute(t)?t:t.startsWith(ei)?ei+Cs.join(e,t.slice(1)):Cs.join(e,t))(t,i);return r||!Is(t)?e:Fs(e)}))),n=n.filter((t=>t.startsWith(ei)?(this._ignoredPaths.add(t.slice(1)),!1):(this._ignoredPaths.delete(t),this._ignoredPaths.delete(t+ni),this._userIgnored=void 0,!0))),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=n.length),this.options.persistent&&(this._readyCount*=2),n.forEach((t=>this._fsEventsHandler._addToFsEvents(t)))):(this._readyCount||(this._readyCount=0),this._readyCount+=n.length,Promise.all(n.map((async t=>{const i=await this._nodeFsHandler._addToNodeFs(t,!s,0,0,e);return i&&this._emitReady(),i}))).then((t=>{this.closed||t.filter((t=>t)).forEach((t=>{this.add(Cs.dirname(t),Cs.basename(e||t))}))}))),this}unwatch(t){if(this.closed)return this;const e=gi(t),{cwd:s}=this.options;return e.forEach((t=>{Cs.isAbsolute(t)||this._closers.has(t)||(s&&(t=Cs.join(s,t)),t=Cs.resolve(t)),this._closePath(t),this._ignoredPaths.add(t),this._watched.has(t)&&this._ignoredPaths.add(t+ni),this._userIgnored=void 0})),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const t=[];return this._closers.forEach((e=>e.forEach((e=>{const s=e();s instanceof Promise&&t.push(s)})))),this._streams.forEach((t=>t.destroy())),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach((t=>t.dispose())),["closers","watched","streams","symlinkPaths","throttled"].forEach((t=>{this[`_${t}`].clear()})),this._closePromise=t.length?Promise.all(t).then((()=>{})):Promise.resolve(),this._closePromise}getWatched(){const t={};return this._watched.forEach(((e,s)=>{const i=this.options.cwd?Cs.relative(this.options.cwd,s):s;t[i||si]=e.getChildren().sort()})),t}emitWithAll(t,e){this.emit(...e),t!==js&&this.emit(Ls,...e)}async _emit(t,e,s,i,r){if(this.closed)return;const n=this.options;di&&(e=Cs.normalize(e)),n.cwd&&(e=Cs.relative(n.cwd,e));const a=[t,e];void 0!==r?a.push(s,i,r):void 0!==i?a.push(s,i):void 0!==s&&a.push(s);const o=n.awaitWriteFinish;let h;if(o&&(h=this._pendingWrites.get(e)))return h.lastChange=new Date,this;if(n.atomic){if(t===Us)return this._pendingUnlinks.set(e,a),setTimeout((()=>{this._pendingUnlinks.forEach(((t,e)=>{this.emit(...t),this.emit(Ls,...t),this._pendingUnlinks.delete(e)}))}),"number"==typeof n.atomic?n.atomic:100),this;t===ks&&this._pendingUnlinks.has(e)&&(t=a[0]=Ms,this._pendingUnlinks.delete(e))}if(o&&(t===ks||t===Ms)&&this._readyEmitted){const s=(e,s)=>{e?(t=a[0]=js,a[1]=e,this.emitWithAll(t,a)):s&&(a.length>2?a[2]=s:a.push(s),this.emitWithAll(t,a))};return this._awaitWriteFinish(e,o.stabilityThreshold,t,s),this}if(t===Ms&&!this._throttle(Ms,e,50))return this;if(n.alwaysStat&&void 0===s&&(t===ks||t===Bs||t===Ms)){const t=n.cwd?Cs.join(n.cwd,e):e;let s;try{s=await pi(t)}catch(t){}if(!s||this.closed)return;a.push(s)}return this.emitWithAll(t,a),this}_handleError(t){const e=t&&t.code;return t&&"ENOENT"!==e&&"ENOTDIR"!==e&&(!this.options.ignorePermissionErrors||"EPERM"!==e&&"EACCES"!==e)&&this.emit(js,t),t||this.closed}_throttle(t,e,s){this._throttled.has(t)||this._throttled.set(t,new Map);const i=this._throttled.get(t),r=i.get(e);if(r)return r.count++,!1;let n;const a=()=>{const t=i.get(e),s=t?t.count:0;return i.delete(e),clearTimeout(n),t&&clearTimeout(t.timeoutObject),s};n=setTimeout(a,s);const o={timeoutObject:n,clear:a,count:0};return i.set(e,o),o}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(t,e,s,i){let r,n=t;this.options.cwd&&!Cs.isAbsolute(t)&&(n=Cs.join(this.options.cwd,t));const a=new Date,o=s=>{Ts.stat(n,((n,a)=>{if(n||!this._pendingWrites.has(t))return void(n&&"ENOENT"!==n.code&&i(n));const h=Number(new Date);s&&a.size!==s.size&&(this._pendingWrites.get(t).lastChange=h),h-this._pendingWrites.get(t).lastChange>=e?(this._pendingWrites.delete(t),i(void 0,a)):r=setTimeout(o,this.options.awaitWriteFinish.pollInterval,a)}))};this._pendingWrites.has(t)||(this._pendingWrites.set(t,{lastChange:a,cancelWait:()=>(this._pendingWrites.delete(t),clearTimeout(r),s)}),r=setTimeout(o,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(t,e){if(this.options.atomic&&Zs.test(t))return!0;if(!this._userIgnored){const{cwd:t}=this.options,e=this.options.ignored,s=e&&e.map(vi(t)),i=mi(s).filter((t=>typeof t===oi&&!Is(t))).map((t=>t+ni)),r=this._getGlobIgnored().map(vi(t)).concat(s,i);this._userIgnored=xs(r,void 0,ai)}return this._userIgnored([t,e])}_isntIgnored(t,e){return!this._isIgnored(t,e)}_getWatchHelpers(t,e){const s=e||this.options.disableGlobbing||!Is(t)?t:function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&X&&t.indexOf("/")<0&&(t=t.replace(J,"/")),tt.test(t)&&(t+="/"),t+="a";do{t=q(t)}while(Z(t)||et.test(t));return t.replace(st,"$1")}(t),i=this.options.followSymlinks;return new bi(t,s,i,this)}_getWatchedDir(t){this._boundRemove||(this._boundRemove=this._remove.bind(this));const e=Cs.resolve(t);return this._watched.has(e)||this._watched.set(e,new Ai(e,this._boundRemove)),this._watched.get(e)}_hasReadPermissions(t){if(this.options.ignorePermissionErrors)return!0;const e=511&(t&&Number.parseInt(t.mode,10)),s=Number.parseInt(e.toString(8)[0],10);return Boolean(4&s)}_remove(t,e,s){const i=Cs.join(t,e),r=Cs.resolve(i);if(s=null!=s?s:this._watched.has(i)||this._watched.has(r),!this._throttle("remove",i,100))return;s||this.options.useFsEvents||1!==this._watched.size||this.add(t,e,!0),this._getWatchedDir(i).getChildren().forEach((t=>this._remove(i,t)));const n=this._getWatchedDir(t),a=n.has(e);n.remove(e),this._symlinkPaths.has(r)&&this._symlinkPaths.delete(r);let o=i;if(this.options.cwd&&(o=Cs.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(o)&&this._pendingWrites.get(o).cancelWait()===ks)return;this._watched.delete(i),this._watched.delete(r);const h=s?Gs:Us;a&&!this._isIgnored(i)&&this._emit(h,i),this.options.useFsEvents||this._closePath(i)}_closePath(t){this._closeFile(t);const e=Cs.dirname(t);this._getWatchedDir(e).remove(Cs.basename(t))}_closeFile(t){const e=this._closers.get(t);e&&(e.forEach((t=>t())),this._closers.delete(t))}_addPathCloser(t,e){if(!e)return;let s=this._closers.get(t);s||(s=[],this._closers.set(t,s)),s.push(e)}_readdirp(t,e){if(this.closed)return;const s={type:Ls,alwaysStat:!0,lstat:!0,...e};let i=Ds(t,s);return this._streams.add(i),i.once(Ks,(()=>{i=void 0})),i.once(Ys,(()=>{i&&(this._streams.delete(i),i=void 0)})),i}}f.FSWatcher=Si,f.watch=(t,e)=>{const s=new Si(e);return s.add(t),s};class Ti{constructor(t,e){this.transformWatchers=new Map,this.chokidarOptions=e,this.task=t,this.watcher=this.createWatcher(null)}close(){this.watcher.close();for(const t of this.transformWatchers.values())t.close()}unwatch(t){this.watcher.unwatch(t);const e=this.transformWatchers.get(t);e&&(this.transformWatchers.delete(t),e.close())}watch(t,e){if(e){const e=this.transformWatchers.get(t)??this.createWatcher(t);e.add(t),this.transformWatchers.set(t,e)}else this.watcher.add(t)}createWatcher(t){const e=this.task,s="linux"===(0,a.platform)(),i=null!==t,r=(r,a)=>{const o=t||r;s&&(n.unwatch(o),n.add(o)),e.invalidate(o,{event:a,isTransformDependency:i})},n=f.watch([],this.chokidarOptions).on("add",(t=>r(t,"create"))).on("change",(t=>r(t,"update"))).on("unlink",(t=>r(t,"delete")));return n}}const Ci={create:{create:"buggy",delete:null,update:"create"},delete:{create:"update",delete:"buggy",update:"buggy"},update:{create:"buggy",delete:"delete",update:"update"}};class Pi{constructor(t,e){this.buildDelay=0,this.buildTimeout=null,this.closed=!1,this.invalidatedIds=new Map,this.rerun=!1,this.running=!0,this.emitter=e,e.close=this.close.bind(this),this.tasks=t.map((t=>new Di(this,t)));for(const{watch:e}of t)e&&"number"==typeof e.buildDelay&&(this.buildDelay=Math.max(this.buildDelay,e.buildDelay));r.nextTick((()=>this.run()))}async close(){if(!this.closed){this.closed=!0,this.buildTimeout&&clearTimeout(this.buildTimeout);for(const t of this.tasks)t.close();await this.emitter.emit("close"),this.emitter.removeAllListeners()}}invalidate(t){if(t){const e=this.invalidatedIds.get(t.id),s=e?Ci[e][t.event]:t.event;"buggy"===s?this.invalidatedIds.set(t.id,t.event):null===s?this.invalidatedIds.delete(t.id):this.invalidatedIds.set(t.id,s)}this.running?this.rerun=!0:(this.buildTimeout&&clearTimeout(this.buildTimeout),this.buildTimeout=setTimeout((async()=>{this.buildTimeout=null;try{await Promise.all([...this.invalidatedIds].map((([t,e])=>this.emitter.emit("change",t,{event:e})))),this.invalidatedIds.clear(),await this.emitter.emit("restart"),this.emitter.removeListenersForCurrentRun(),this.run()}catch(t){this.invalidatedIds.clear(),await this.emitter.emit("event",{code:"ERROR",error:t,result:null}),await this.emitter.emit("event",{code:"END"})}}),this.buildDelay))}async run(){this.running=!0,await this.emitter.emit("event",{code:"START"});for(const t of this.tasks)await t.run();this.running=!1,await this.emitter.emit("event",{code:"END"}),this.rerun&&(this.rerun=!1,this.invalidate())}}class Di{constructor(t,e){this.cache={modules:[]},this.watchFiles=[],this.closed=!1,this.invalidated=!0,this.watched=new Set,this.watcher=t,this.options=e,this.skipWrite=Boolean(e.watch&&e.watch.skipWrite),this.outputs=this.options.output,this.outputFiles=this.outputs.map((t=>{if(t.file||t.dir)return(0,i.resolve)(t.file||t.dir)}));const s=this.options.watch||{};this.filter=(0,n.cj)(s.include,s.exclude),this.fileWatcher=new Ti(this,{...s.chokidar,disableGlobbing:!0,ignoreInitial:!0})}close(){this.closed=!0,this.fileWatcher.close()}invalidate(t,e){if(this.invalidated=!0,e.isTransformDependency)for(const e of this.cache.modules)e.transformDependencies.includes(t)&&(e.originalCode=null);this.watcher.invalidate({event:e.event,id:t})}async run(){if(!this.invalidated)return;this.invalidated=!1;const t={...this.options,cache:this.cache},e=Date.now();await this.watcher.emitter.emit("event",{code:"BUNDLE_START",input:this.options.input,output:this.outputFiles});let s=null;try{if(s=await(0,n.iX)(t,this.watcher.emitter),this.closed)return;this.updateWatchedFiles(s),this.skipWrite||await Promise.all(this.outputs.map((t=>s.write(t)))),await this.watcher.emitter.emit("event",{code:"BUNDLE_END",duration:Date.now()-e,input:this.options.input,output:this.outputFiles,result:s})}catch(t){if(!this.closed){if(Array.isArray(t.watchFiles))for(const e of t.watchFiles)this.watchFile(e);t.id&&(this.cache.modules=this.cache.modules.filter((e=>e.id!==t.id)))}await this.watcher.emitter.emit("event",{code:"ERROR",error:t,result:s})}}updateWatchedFiles(t){const e=this.watched;this.watched=new Set,this.watchFiles=t.watchFiles,this.cache=t.cache;for(const t of this.watchFiles)this.watchFile(t);for(const t of this.cache.modules)for(const e of t.transformDependencies)this.watchFile(e,!0);for(const t of e)this.watched.has(t)||this.fileWatcher.unwatch(t)}watchFile(t,e=!1){if(this.filter(t)){if(this.watched.add(t),this.outputFiles.includes(t))throw new Error("Cannot import the generated bundle");this.fileWatcher.watch(t,e)}}}}};